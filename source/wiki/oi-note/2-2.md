---
wiki: oi-note
title: 线段树
katex: true
---

线段树是一种功能强大的二叉数据结构，可以维护**半群**上的信息（满足结合律）。

对于一般情况，我们使用**堆式线段树**来存储线段树；对于空间开不下的情况，我们使用**动态开点**来存储线段树。

## 双半群模型

## 例题

### 刷基础 1

#### [2023 钉耙编程 1] Easy problem I

[Portal](https://qoj.ac/contest/1306)。如果一个数发生过 $a_i\leftarrow x-a_i$，那么以后就会一直这样。搞两棵线段树分别维护即可。[代码](https://qoj.ac/submission/1557229)。