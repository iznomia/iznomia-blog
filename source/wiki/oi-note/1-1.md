---
wiki: oi-note
title: 二分与倍增
katex: true
---

两者的本质均基于单调性，寻找题目中具有单调性的函数关系，然后施展二分或者倍增。二分答案可以用来解决分数规划问题，三分法可以求解单峰/谷函数。同时，二分上界不确定的内容的最佳方式是倍增，通过先倍增到上界，再倍增答案来解决。

## 二分

### 一种二分写法

通过 `l <= r` 之类的方法的二分笔者认为有些过于诡异，这里给出我自己的二分实现方式（我记得当时是在 B 站学的，但是出自哪个视频忘了）。

```cpp Luogu P2249
int L = 0, R = n + 1;
while (L + 1 != R) {
    int mid = L + R >> 1;
    if (a[mid] >= x) R = mid;
    else L = mid;
}
if (a[R] == x) cout << R << " ";
else cout << "-1 ";
```

### 01 分数规划

用来求一个分式的极值，也就求一组 $w_i=\{0,1\}$，最大化或者最小化：

$$
\frac{\sum a_i\times w_i}{\sum b_i\times w_i}
$$

我们一般使用二分答案来解决这个问题。以最大值为例：

$$
\begin{aligned}
&\frac{\sum a_i\times w_i}{\sum b_i\times w_i}>mid\\
\Longrightarrow& \sum a_i\times w_i - mid\times \sum b_i\times w_i > 0\\
\Longrightarrow& \sum w_i(a_i-mid\times b_i)>0
\end{aligned}
$$

于是排序即可确定 $w_i$ 的值。有些时候会限制 $\sum b_i\times w_i$ 的最小值之类的，[例题](https://www.luogu.com.cn/problem/P4377)，这时使用背包求解即可。

### 三分法

三分法可以用于求解单峰函数的极值点。

### wqs 二分

$O(\log n)$

## 倍增

## 例题